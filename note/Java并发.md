<!-- GFM-TOC -->
* [一、线程安全性](#线程安全性)
    * [1.什么是线程安全](#1什么是线程安全)
    * [2.原子性](#2原子性)
    * [3.加锁机制](#加锁机制)
# 线程安全性

## 1 什么是线程安全
线程安全性：当多个线程访问某个类时，这个类始终都能表现出正常的行为，那么就称这个类是线程安全的。（无状态的对象一定是线程安全的）

## 2 原子性
原子性指的是整个程序中的所有操作，要么全部完成，要么全部不完成，不可能停滞在中间的某个环节
```bash
++count;  // 非原子操作
```
实际上，++count包含了3个独立的操作：读取count的值，将值+1，然后将计算结果写入count，这是一个“读取——修改——写入”的操作序列，并且其结果状态依赖于之前的状态。

## 2.1 竞态条件
由于不恰当的执行时序而出现的不正确的结果叫作**竞态条件**

## 3 加锁机制
### 3.1 内置锁
Java提供了一种内置的锁机制来支持原子性：同步代码块(Synchronized Block)


